/* Base styles */
@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 5rem;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Smooth theme transitions */
    transition: background-color 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  body {
    @apply text-carbon dark:text-alabaster;
    @apply bg-alabaster dark:bg-carbon;
    @apply transition-colors duration-300;
  }
  
  /* Apply smooth color transitions to specific elements only (performance optimization) */
  a, button, input, textarea, select,
  [class*="bg-"], [class*="text-"], [class*="border-"] {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
  }
  
  /* Disable transitions for reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    *,
    html {
      transition: none !important;
      animation: none !important;
      scroll-behavior: auto !important;
    }
  }
  
  /* Typography improvements */
  h1, h2, h3, h4, h5, h6 {
    text-wrap: balance;
    @apply font-semibold;
  }
  
  p {
    text-wrap: pretty;
  }
  
  /* Focus states for accessibility */
  :focus-visible {
    @apply outline-none ring-2 ring-stormy ring-offset-2;
  }
  
  /* Skip to main content link */
  .skip-to-main {
    @apply absolute left-0 -top-full;
    @apply focus:top-0;
    @apply px-4 py-2 bg-stormy text-white;
    @apply z-[9999] transition-all;
  }
  
  /* Improve tap targets on mobile */
  button, a {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Better text selection */
  ::selection {
    @apply bg-stormy/20 text-carbon;
  }
  
  ::-moz-selection {
    @apply bg-stormy/20 text-carbon;
  }
  
  /* Tabular numbers for data */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }
  
  /* Proper ellipsis character */
  .loading-text::after {
    content: 'â€¦';
  }
}
