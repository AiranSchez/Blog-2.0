---
import { cva, type VariantProps } from 'class-variance-authority';
import { cn } from '@/lib/utils';

const cardVariants = cva(
  // Base styles with focus-within for interactive cards
  'rounded-lg transition-all duration-300',
  {
    variants: {
      variant: {
        elevated: 
          'bg-white dark:bg-carbon-700 shadow-md hover:shadow-lg border border-alabaster-200 dark:border-carbon-600',
        outlined:
          'bg-transparent border-2 border-alabaster-300 dark:border-carbon-600 hover:border-stormy dark:hover:border-stormy',
        ghost:
          'bg-transparent hover:bg-alabaster-100 dark:hover:bg-carbon-800',
      },
      padding: {
        none: '',
        sm: 'p-4',
        md: 'p-6',
        lg: 'p-8',
      },
      interactive: {
        true: 'cursor-pointer focus-within:ring-2 focus-within:ring-stormy focus-within:ring-offset-2',
        false: '',
      },
    },
    defaultVariants: {
      variant: 'elevated',
      padding: 'md',
      interactive: false,
    },
  }
);

export interface Props extends VariantProps<typeof cardVariants> {
  as?: 'div' | 'article' | 'section';
  class?: string;
}

const {
  variant,
  padding,
  interactive,
  as: Element = 'div',
  class: className,
  ...props
} = Astro.props;
---

<Element
  class={cn(cardVariants({ variant, padding, interactive }), className)}
  {...props}
>
  <slot />
</Element>
